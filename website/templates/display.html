{%extends 'base.html'%}

{%block styles%}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" rel="stylesheet">
{%endblock%}

{% block nav %}
{% include 'nav.html' %}
{% endblock %}

{%block content%}
<div style="overflow:hidden;background-color: #121212;min-height:100vh;color:#fff;">
<h2 style="text-align:center;margin-top:40px;">Uploaded File Preview</h2>

<form method="POST" action="{{ url_for('views.analyse') }}">
    <div class="d-flex justify-content-end mt-3 me-4">
        <button type="submit" class="btn btn-primary">Analyse â†’</button>
    </div>
    {% for table in tables %}
        <div class="form-check mb-4">
            <input class="form-check-input" type="radio" name="selected_table" id="table{{ loop.index0 }}" value="table{{ loop.index0 }}">
            <label class="form-check-label mb-2" for="table{{ loop.index0 }}">
                Table {{ loop.index }}
            </label>
            <div class="table-responsive">
                {{ table|safe }}
            </div>
        </div>
    {% endfor %}
</form>
</div>
{%block scripts%}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>

<script>
    $(document).ready(function () {
        $('.data-table').DataTable({
            "pageLength": 5,
            "lengthMenu": [5, 10, 25, 50, 100]
        });
    });
</script>

{%endblock%}
{%endblock%}